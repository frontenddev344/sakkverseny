<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Chess Game</title>
<style>
    /* Style for the chessboard */
#chessboard {
    display: grid;
    grid-template-columns: repeat(8, 60px);
    grid-template-rows: repeat(8, 60px);
    width: 480px;
    height: 480px;
    border: 2px solid #333;
}

/* Styles for the squares */
.square {
    width: 60px;
    height: 60px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 40px;
}

.light {
    background-color: #f0d9b5;
}

.dark {
    background-color: #b58863;
}

/* Styles for chess pieces */
.piece {
    cursor: pointer;
    user-select: none;
}

</style>
</head>
<body>
    <div id="chessboard"></div>
<script>
    // Basic piece symbols for the board
const pieceSymbols = {
    "r": "♜", "n": "♞", "b": "♝", "q": "♛", "k": "♚", "p": "♟",
    "R": "♖", "N": "♘", "B": "♗", "Q": "♕", "K": "♔", "P": "♙"
};

// Initial board setup
const initialBoard = [
    ["r", "n", "b", "q", "k", "b", "n", "r"],
    ["p", "p", "p", "p", "p", "p", "p", "p"],
    ["", "", "", "", "", "", "", ""],
    ["", "", "", "", "", "", "", ""],
    ["", "", "", "", "", "", "", ""],
    ["", "", "", "", "", "", "", ""],
    ["P", "P", "P", "P", "P", "P", "P", "P"],
    ["R", "N", "B", "Q", "K", "B", "N", "R"]
];

// Variables to manage game state
let currentTurn = 'white'; // 'white' or 'black'
let selectedPiece = null;
let selectedSquare = null;

// Create the chessboard
function createChessBoard() {
    const chessboard = document.getElementById('chessboard');
    chessboard.innerHTML = ''; // Clear the board

    for (let row = 0; row < 8; row++) {
        for (let col = 0; col < 8; col++) {
            const square = document.createElement('div');
            square.classList.add('square');
            
            // Set square color
            if ((row + col) % 2 === 0) {
                square.classList.add('light');
            } else {
                square.classList.add('dark');
            }

            // Set data attributes for row and column
            square.dataset.row = row;
            square.dataset.col = col;

            // Add piece if it exists in the initial setup
            const piece = initialBoard[row][col];
            if (piece) {
                const pieceElement = document.createElement('span');
                pieceElement.textContent = pieceSymbols[piece];
                pieceElement.classList.add('piece');
                square.appendChild(pieceElement);
            }

            // Click event for selecting and moving pieces
            square.addEventListener('click', handleSquareClick);

            // Append square to chessboard
            chessboard.appendChild(square);
        }
    }
}

// Handle square click event
function handleSquareClick(event) {
    const square = event.currentTarget;
    const row = parseInt(square.dataset.row);
    const col = parseInt(square.dataset.col);
    const piece = initialBoard[row][col];

    // Selecting a piece
    if (!selectedPiece && piece) {
        // Check if it's the correct turn
        if ((currentTurn === 'white' && piece === piece.toUpperCase()) ||
            (currentTurn === 'black' && piece === piece.toLowerCase())) {
            selectedPiece = piece;
            selectedSquare = { row, col };
            square.classList.add('selected');
        }
    } else if (selectedPiece) {
        // Attempt to move the selected piece
        if (isValidMove(selectedSquare.row, selectedSquare.col, row, col)) {
            movePiece(selectedSquare.row, selectedSquare.col, row, col);
            switchTurn();
        }
        
        // Clear selection
        clearSelection();
    }
}

// Validate basic movement (only supports pawns for simplicity)
function isValidMove(startRow, startCol, endRow, endCol) {
    const piece = initialBoard[startRow][startCol];

    // Only handle pawn movement for now
    if (piece.toLowerCase() === 'p') {
        const direction = piece === 'P' ? -1 : 1;
        const startRowValid = (piece === 'P' && startRow === 6) || (piece === 'p' && startRow === 1);
        
        // Check for normal move
        if (startCol === endCol && initialBoard[endRow][endCol] === "") {
            if (endRow === startRow + direction) return true;
            if (startRowValid && endRow === startRow + 2 * direction) return true;
        }
        
        // Check for capture
        if (Math.abs(startCol - endCol) === 1 && endRow === startRow + direction && initialBoard[endRow][endCol] !== "") {
            return true;
        }
    }

    // Additional movement rules for other pieces can be implemented here...

    return false;
}

// Move the piece on the board
function movePiece(startRow, startCol, endRow, endCol) {
    // Move the piece in the internal board array
    initialBoard[endRow][endCol] = initialBoard[startRow][startCol];
    initialBoard[startRow][startCol] = "";

    // Re-render the board
    createChessBoard();
}

// Switch turns between players
function switchTurn() {
    currentTurn = currentTurn === 'white' ? 'black' : 'white';
}

// Clear selection of squares and pieces
function clearSelection() {
    selectedPiece = null;
    selectedSquare = null;
    document.querySelectorAll('.square').forEach(square => square.classList.remove('selected'));
}

// Initialize the board
createChessBoard();

</script>
</body>
</html>
